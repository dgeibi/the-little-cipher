{"version":3,"sources":["../../src/server/ssr.js"],"names":["ssr","req","res","next","accepts","context","path","url","content","status","type","send"],"mappings":";;;;;kBAGwBA,G;;AAHxB;;AACA;;;;;;AAEe,SAASA,GAAT,CAAaC,GAAb,EAAkBC,GAAlB,EAAuBC,IAAvB,EAA6B;AAC1C,MAAIF,IAAIG,OAAJ,CAAY,MAAZ,CAAJ,EAAyB;AACvB,UAAMC,UAAU,EAAhB;AACA,UAAMC,OAAO,qBAAUL,IAAIM,GAAd,CAAb;AACA,UAAMC,UAAU,sBAAOF,IAAP,EAAaD,OAAb,CAAhB;AACA,QAAIA,QAAQI,MAAR,KAAmB,GAAvB,EAA4B;AAC1BP,UAAIO,MAAJ,CAAW,GAAX;AACD;AACDP,QAAIQ,IAAJ,CAAS,MAAT;AACAR,QAAIS,IAAJ,CAASH,OAAT;AACD,GATD,MASO;AACLL;AACD;AACF","file":"ssr.js","sourcesContent":["import { plainPath } from '../util'\nimport render from '../render'\n\nexport default function ssr(req, res, next) {\n  if (req.accepts('html')) {\n    const context = {}\n    const path = plainPath(req.url)\n    const content = render(path, context)\n    if (context.status === 404) {\n      res.status(404)\n    }\n    res.type('html')\n    res.send(content)\n  } else {\n    next()\n  }\n}\n"]}