{"version":3,"sources":["../../src/server/index.js"],"names":["upload","dest","app","DEV","process","env","NODE_ENV","STATIC_DIR","use","require","default","static","__dirname","get","post","single","server","listen","PORT","console","log","address","port"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;AAEA,MAAMA,SAAS,sBAAO,EAAEC,MAAM,UAAR,EAAP,CAAf;;AAEA,MAAMC,MAAM,wBAAZ;AACA,MAAMC,MAAMC,QAAQC,GAAR,CAAYC,QAAZ,KAAyB,aAArC;AACA,MAAMC,aAAa,WAAnB;;AAEAL,IAAIM,GAAJ,CAAQ,4BAAR;;AAEA,IAAIL,GAAJ,EAAS;AACPD,MAAIM,GAAJ,CAAQC,QAAQ,0BAAR,EAAoCC,OAA5C;AACD,CAFD,MAEO;AACLR,MAAIM,GAAJ,CAAQ,SAAR,EAAmB,kBAAQG,MAAR,CAAe,mBAAQC,SAAR,EAAmBL,UAAnB,CAAf,CAAnB;AACAL,MAAIW,GAAJ,CAAQ,GAAR,EAAaJ,QAAQ,OAAR,EAAiBC,OAA9B;AACD;;AAEDR,IAAIY,IAAJ,CAAS,WAAT,EAAsBd,OAAOe,MAAP,CAAc,WAAd,CAAtB;;AAEA,MAAMC,SAASd,IAAIe,MAAJ,CAAWb,QAAQC,GAAR,CAAYa,IAAZ,IAAoB,IAA/B,EAAqC,MAAM;AACxDC,UAAQC,GAAR,CAAa,+BAA8BJ,OAAOK,OAAP,GAAiBC,IAAK,EAAjE;AACD,CAFc,CAAf","file":"index.js","sourcesContent":["import express from 'express'\nimport compression from 'compression'\nimport multer from 'multer'\nimport { resolve } from 'path'\nimport playfair from './playfair'\n\nconst upload = multer({ dest: 'uploads/' })\n\nconst app = express()\nconst DEV = process.env.NODE_ENV === 'development'\nconst STATIC_DIR = '../static'\n\napp.use(compression())\n\nif (DEV) {\n  app.use(require('../webpack/hotMiddleware').default)\n} else {\n  app.use('/static', express.static(resolve(__dirname, STATIC_DIR)))\n  app.get('*', require('./ssr').default)\n}\n\napp.post('/playfair', upload.single('plaintext'), playfair)\n\nconst server = app.listen(process.env.PORT || 3000, () => {\n  console.log(`Serving on http://localhost:${server.address().port}`)\n})\n"]}